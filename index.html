



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.0.1">
    
    
      
        <title>My Web Crawling</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/application.982221ab.css">
      
      
    
    
      <script src="assets/javascripts/modernizr.1f0bcf2b.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#crawling-data-pada-web" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="." title="My Web Crawling" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              My Web Crawling
            </span>
            <span class="md-header-nav__topic">
              Home
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="." title="My Web Crawling" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    My Web Crawling
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Home
      </label>
    
    <a href="." title="Home" class="md-nav__link md-nav__link--active">
      Home
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#crawling-data-pada-web_1" title="Crawling Data pada WEB :" class="md-nav__link">
    Crawling Data pada WEB :
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pre-processing" title="Pre-Processing" class="md-nav__link">
    Pre-Processing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#matrik-vsm" title="Matrik VSM" class="md-nav__link">
    Matrik VSM
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tf-idf" title="TF-IDF" class="md-nav__link">
    TF-IDF
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#crawling-data-pada-web_1" title="Crawling Data pada WEB :" class="md-nav__link">
    Crawling Data pada WEB :
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pre-processing" title="Pre-Processing" class="md-nav__link">
    Pre-Processing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#matrik-vsm" title="Matrik VSM" class="md-nav__link">
    Matrik VSM
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tf-idf" title="TF-IDF" class="md-nav__link">
    TF-IDF
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <p>Nama : Rahma Nur Layla Sari</p>
<p>NIM : 160411100104</p>
<p>Mata Kuliah : Penambangan dan Pencarian Web</p>
<h1 id="crawling-data-pada-web"><strong>Crawling Data pada WEB</strong></h1>
<p>Target Website : <a href="https://www.visitkorea.or.id/category/informasi-umum/">https://www.visitkorea.or.id/category/informasi-umum/</a></p>
<p>Yang dibutuhkan utnuk menjalankan program adalah <strong>Python 3.6</strong> dengan Library yang di install pada cmd :</p>
<p>§  Request</p>
<p>§  BeautifulSoup4</p>
<p>§  SQLite 3 (library yang tersedia pada python)</p>
<p>§  Csv (library yang tersedia pada python)</p>
<p>§  Numpy</p>
<p>§  Scipy</p>
<p>§  Scikit-learn</p>
<p>§  Scikit Fuzzy</p>
<h2 id="crawling-data-pada-web_1"><strong>Crawling Data pada WEB :</strong></h2>
<p>Mengambil data dari sebuah halaman web dan mengelompokkan data yang sudah di crawling menggunakan metode clustering.Crawling  digunakan untuk mengambil data yang berupa text, citra, audio, video, dll.</p>
<p><strong>Code Program sebagai berikut</strong> :</p>
<p>a.  Membuat database dengan SQLite3  dan dikoneksikan pada sqlite database yang bersama <strong>DB_korea</strong></p>
<pre><code>koneksi = sqlite3.connect('DB_korea.db')
koneksi.execute(''' CREATE TABLE if not exists VisitKorea
            (judul TEXT NOT NULL,
             isi TEXT NOT NULL);''')
</code></pre>

<p>b. Menentukan link website yang akan di crawl dan disimpan di variable src, kemudian crawling next page apa saja yang akan diambil. Pada web yang akan diambil kali ini, kita mengambil judul, paragraf, dan  isi yang ada pada web tersebut.</p>
<p>link = artikel[i].find('a')['href']
​    page = requests.get(link)
​    soup = BeautifulSoup(page.content, 'html.parser')
​    judul = soup.find(class_='title mb-3 text-center').getText()
​    isi = soup.find(class_='entry-page')
​    paragraf = isi.findAll('p')
​    p = ' '</p>
<p>c. kemudian setiap isi, diambil judul dan isi paragraf lantas dicari tag p</p>
<p>cek = koneksi.execute("SELECT * FROM VisitKorea WHERE judul=?", (judul,))
cek = cek.fetchall()
if (len(cek) == 0):
​    koneksi.execute('INSERT INTO VisitKorea values (?,?)', (judul, p));</p>
<p><strong>CODE PROGRAM</strong></p>
<pre><code>**

artikel = soup.find(class_='row tag-page')
artikel = artikel.findAll(class_='col-md-6 col-xl-4')

koneksi = sqlite3.connect('DB_korea.db')
koneksi.execute(''' CREATE TABLE if not exists VisitKorea
            (judul TEXT NOT NULL,
             isi TEXT NOT NULL);''')

for i in range(len(artikel)):
    link = artikel[i].find('a')['href']
    page = requests.get(link)
    soup = BeautifulSoup(page.content, 'html.parser')
    judul = soup.find(class_='title mb-3 text-center').getText()
    isi = soup.find(class_='entry-page')
    paragraf = isi.findAll('p')
    p = ''
    for s in paragraf:
        p+=s.getText() +' '
cek = koneksi.execute(&quot;SELECT * FROM VisitKorea WHERE judul=?&quot;, (judul,))
cek = cek.fetchall()
if (len(cek) == 0):
    koneksi.execute('INSERT INTO VisitKorea values (?,?)', (judul, p));
</code></pre>

<h2 id="pre-processing"><strong>Pre-Processing</strong></h2>
<p>pada tahap pre-processing dilakukan 3 tahapan, yaitu :</p>
<ol>
<li>tahap Stopword Removal (Menghilangkan kata dan tanda baca yang terlalu sering muncul)</li>
<li>Stemming (Menggunakan suatu kata menjadi kata dasar)</li>
<li>Tokenisasi <em>n-gram</em> (memecah kalimat per kata)</li>
</ol>
<h2 id="matrik-vsm"><strong>Matrik VSM</strong></h2>
<p>Merupak proses perhitungan kemunculan semua kata yang terdapat pada suata kata</p>
<p><strong>Code</strong></p>
<p>conn = sqlite3.connect('DB_korea.db')
matrix2=[]
cursor = conn.execute("SELECT* from VisitKOrea")
for row in cursor:
​    tampung = []
​    for i in berhasil:
​        tampung.append(row[2].lower().count(i))
​        #print(tampung)
​        #print(row[2])
​    matrix2.append(tampung)
print(matrix2)</p>
<p>with open ('data_matrix.csv', newline='', mode='w')as employee_file :
​    employee_writer = csv.writer(employee_file, delimiter=',', quotechar='"', quoting=csv.QUOTE_MINIMAL)
​    employee_writer.writerow(katadasar)
​    for i in matrix :
​        employee_writer.writerow(i)</p>
<h2 id="tf-idf"><strong>TF-IDF</strong></h2>
<p>Digunakan untuk mencari banyak kata yang muncul pada satu dokumen maka IDF digunakan untuk mengetahui mengetahui dokumen yang mana saja yang memiliki kata kata yang sama</p>
<p><strong>CODE</strong></p>
<h1 id="tf-idf_1">tf-idf</h1>
<p>df = list()
for d in range (len(matrix[0])):
​    total = 0
​    for i in range(len(matrix)):
​        if matrix[i][d] !=0:
​            total += 1
​    df.append(total)</p>
<p>idf = list()
for i in df:
​    tmp = 1 + log10(len(matrix)/(1+i))
​    idf.append(tmp)</p>
<p>tf = matrix
tfidf = []
for baris in range(len(matrix)):
​    tampungBaris = []
​    for kolom in range(len(matrix[0])):
​        tmp = tf[baris][kolom] * idf[kolom]
​        tampungBaris.append(tmp)
​    tfidf.append(tampungBaris)</p>
<p>with open('tf-idf.csv', newline='', mode='w') as employee_file:
​    employee_writer = csv.writer(employee_file, delimiter=',', quotechar='"', quoting=csv.QUOTE_MINIMAL)
​    employee_writer.writerow(katadasar)
​    for i in tfidf:
​        employee_writer.writerow(i)</p>
<p>Code untuk  ketiga tahap Stopword Removal (Menghilangkan kata dan tanda baca yang terlalu sering muncul)Stemming (Menggunakan suatu kata menjadi kata dasar) Tokenisasi <em>n-gram</em> (memecah kalimat per kata)</p>
<p><strong>Code Program</strong></p>
<p>def pearsonCalculate(data, u,v):
​    "i, j is an index"
​    atas=0; bawah_kiri=0; bawah_kanan = 0
​    for k in range(len(data)):
​        atas += (data[k,u] - meanFitur[u]) * (data[k,v] - meanFitur[v])
​        bawah_kiri += (data[k,u] - meanFitur[u])<strong>2
​        bawah_kanan += (data[k,v] - meanFitur[v])</strong>2
​    bawah_kiri = bawah_kiri <strong> 0.5
​    bawah_kanan = bawah_kanan </strong> 0.5
​    return atas/(bawah_kiri * bawah_kanan)
def meanF(data):
​    meanFitur=[]
​    for i in range(len(data[0])):
​        meanFitur.append(sum(data[:,i])/len(data))
​    return np.array(meanFitur)
def seleksiFiturPearson(katadasar, data, threshold):
​    global meanFitur
​    data = np.array(data)
​    meanFitur = meanF(data)
​    u=0
​    while u &lt; len(data[0]):
​        dataBaru=data[:, :u+1]
​        meanBaru=meanFitur[:u+1]
​        katadasarBaru=katadasar[:u+1]
​        v = u
​        while v &lt; len(data[0]):
​            if u != v:
​                value = pearsonCalculate(data, u,v)
​                if value &lt; threshold:
​                    dataBaru = np.hstack((dataBaru, data[:, v].reshape(data.shape[0],1)))
​                    meanBaru = np.hstack((meanBaru, meanFitur[v]))
​                    katadasarBaru = np.hstack((katadasarBaru, katadasar[v]))
​            v+=1
​        data = dataBaru
​        meanFitur=meanBaru
​        katadasar = katadasarBaru
​        if u%50 == 0 : print("proses : ", u, data.shape)
​        u+=1
​    return katadasar, data</p>
<h2 id="clustering"><strong>Clustering</strong></h2>
<p>Pengelompokkan data menjadi k-kelompok. K-Means merupakan salah satu metode pengelompokkan data yang berusaha mempartisi data yang ada ke dalam bentuk dua atau lebih.</p>
<p><strong>CODE PROGRAM</strong></p>
<p>katadasarBaru, fiturBaru = seleksiFiturPearson(katadasar, tfidf,0.783);
kmeans = KMeans(n_clusters=3, random_state=0).fit(tfidf);
print(kmeans.labels_)
classnya = kmeans.labels_
s_avg = silhouette_score(fiturBaru, classnya, random_state=0)
print (s_avg)</p>
<h2 id="kesimpulan"><strong>KESIMPULAN</strong></h2>
<p>Menggunakan seleksi fitur dan Clustering dengan <em>Fuzzy K-Mean</em> merupakan metode terbaik dan akurat</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="assets/javascripts/application.b806dc00.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"."}})</script>
      
    
  </body>
</html>